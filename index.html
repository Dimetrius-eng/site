<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Купівля</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .error { color: red; font-size: 14px; display: none; }
    input { display: block; margin: 10px 0; padding: 8px; }
    button { padding: 10px 15px; cursor: pointer; }
  </style>
</head>
<body>
  <h2>Форма замовлення</h2>

  <form id="orderForm">
    <label>Ім’я:</label>
    <input type="text" id="name" placeholder="Введіть ім’я">
    <div id="nameError" class="error">Помилка в імені</div>

    <label>Пошта:</label>
    <input type="text" id="email" placeholder="example@gmail.com">
    <div id="emailError" class="error">Помилка у пошті</div>

    <button type="submit">Відправити</button>
  </form>

  <script>
    const form = document.getElementById("orderForm");
    const nameInput = document.getElementById("name");
    const emailInput = document.getElementById("email");
    const nameError = document.getElementById("nameError");
    const emailError = document.getElementById("emailError");

    form.addEventListener("submit", function(event) {
      event.preventDefault(); // блокуємо відправку форми

      let isValid = true;

      // Перевірка імені (мінімум 5 символів)
      if (nameInput.value.trim().length < 5) {
        nameError.style.display = "block";
        isValid = false;
      } else {
        nameError.style.display = "none";
      }

      // Перевірка пошти (мінімум 5 символів)
      if (emailInput.value.trim().length < 5) {
        emailError.style.display = "block";
        isValid = false;
      } else {
        emailError.style.display = "none";
      }

      // Якщо все введено правильно → надсилаємо дані боту
      if (isValid) {
        const userData = {
          name: nameInput.value.trim(),
          email: emailInput.value.trim()
        };

        // Надсилаємо в Telegram-бота
        window.Telegram.WebApp.sendData(JSON.stringify(userData));
      }
    });
  </script>
</body>
</html>
